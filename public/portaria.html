<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8">
  <title>Portaria - Validação</title>
</head>
<body>

<h2>Validação de Liberação</h2>

<input placeholder="Digite o código" id="codigo">
<button onclick="validar()">Validar</button>

<h3 id="resultado"></h3>

<script>
const API = "https://liberacao-alunos-backend.onrender.com";

async function validar() {
  const codigo = document.getElementById("codigo").value;

  const resposta = await fetch(API + "/liberacoes/" + codigo);

  if (!resposta.ok) {
    document.getElementById("resultado").innerText =
      "❌ Código não encontrado";
    return;
  }

  const dados = await resposta.json();

  document.getElementById("resultado").innerText =
    `✅ Liberação autorizada
Aluno: ${dados.aluno}
Turma: ${dados.turma}
Responsável: ${dados.responsavel}
Autorizado: ${dados.terceiro}`;
}
</script>

</body>
</html>
